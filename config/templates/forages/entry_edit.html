<!-- templates/forages/entry_edit.html -->
{% extends 'base.html' %}

{% block content %}
<h1>Edit</h1>
</br>
<button class="btn btn-primary ml-2" onclick="getLocation()">Location</button>
</br>
<p id="location" style="display:block; font-weight: bolder;"></p>
<form action="" method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button class="btn btn-info ml-2" type="submit">Update</button>
</form>

</br>


<script>
var x = document.getElementById("location");

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else { 
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
  x.innerHTML = "</br>Latitude: " + position.coords.latitude + 
  "</br>Longitude: " + position.coords.longitude;
}
</script>

{% endblock content %}